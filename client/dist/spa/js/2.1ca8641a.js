(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"1d1b":function(e,t,a){},"275d":function(e,t,a){e.exports=a.p+"img/GG-white-red.c38a68e4.png"},4748:function(e,t,a){},"4e3e":function(e,t,a){"use strict";a("1d1b")},"524e":function(e,t,a){},"5d75":function(e,t,a){},"75c7":function(e,t,a){},"787f":function(e,t,a){"use strict";a("5d75")},7926:function(e,t,a){"use strict";a("e54a")},"8b24":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"flex flex-center"},[a("transition",{attrs:{name:"fade"}},["Search"===this.$store.state.currentView?a("Search"):e._e(),"SearchResults"===this.$store.state.currentView?a("SearchResults"):e._e(),"Bookings"===this.$store.state.currentView?a("Bookings"):e._e(),"SelectedProfile"===this.$store.state.currentView?a("SelectedProfile"):e._e(),"MyProfile"===this.$store.state.currentView?a("MyProfile"):e._e(),"EditProfile"===this.$store.state.currentView?a("EditProfile"):e._e(),"Chats"===this.$store.state.currentView?a("Chats"):e._e(),"Messages"===this.$store.state.currentView?a("Messages"):e._e(),"HowTo"===this.$store.state.currentView?a("HowTo"):e._e(),"AboutUs"===this.$store.state.currentView?a("AboutUs"):e._e(),"Login"===this.$store.state.currentView?a("Login"):e._e(),"Logout"===this.$store.state.currentView?a("Logout"):e._e(),"Registration"===this.$store.state.currentView?a("Registration"):e._e()],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"search"}},[a("q-card",{staticClass:"q-ma-sm q-pa-lg my-card col-9"},[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"q-gutter-y-md column",staticStyle:{width:"60vw"}},[a("q-input",{attrs:{filled:"","bottom-slots":"",label:"Select location"},scopedSlots:e._u([{key:"before",fn:function(){return[a("q-btn",{attrs:{icon:"my_location",round:"",color:"primary"}})]},proxy:!0},{key:"append",fn:function(){return[""!==e.location?a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){e.location=""}}}):e._e()]},proxy:!0}]),model:{value:e.location,callback:function(t){e.location=t},expression:"location"}}),a("q-input",{attrs:{filled:"","bottom-slots":"",label:"Select language"},scopedSlots:e._u([{key:"before",fn:function(){return[a("q-btn",{attrs:{icon:"language",round:"",color:"primary"}})]},proxy:!0},{key:"append",fn:function(){return[""!==e.language?a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){e.language=""}}}):e._e()]},proxy:!0}]),model:{value:e.language,callback:function(t){e.language=t},expression:"language"}}),a("q-input",{attrs:{filled:"","bottom-slots":"",label:"Select date"},scopedSlots:e._u([{key:"before",fn:function(){return[a("q-btn",{attrs:{icon:"today",round:"",color:"primary"}},[a("q-popup-proxy",{ref:"datePicker",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{title:"Start Date",subtitle:"Select the first day"},on:{input:function(){return e.$refs.datePicker.hide()}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)]},proxy:!0},{key:"append",fn:function(){return[""!==e.date?a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){e.date=""}}}):e._e()]},proxy:!0}]),model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),a("q-btn",{staticClass:"q-px-xl q-py-xs",attrs:{size:"2vh",color:"primary",label:"Search"},on:{click:e.search}})],1)])])],1)},l=[],n={name:"Search",data:()=>({location:"",language:"",date:""}),methods:{search(){let e=this.date.split("/").join("");console.log(`New Date is: ${e}`),this.$store.dispatch("getFilteredGuides",{location:this.location.toLowerCase(),language:this.language.toLowerCase(),date:e,meme:"69420",nextPage:"SearchResults"})}}},r=n,c=a("2877"),d=a("f09f"),u=a("27f9"),m=a("9c40"),p=a("0016"),h=a("7cbe"),g=a("52ee"),f=a("eebe"),b=a.n(f),v=Object(c["a"])(r,o,l,!1,null,null,null),q=v.exports;b()(v,"components",{QCard:d["a"],QInput:u["a"],QBtn:m["a"],QIcon:p["a"],QPopupProxy:h["a"],QDate:g["a"]});var y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"search-results"}},[a("div",{staticClass:"q-pa-md",staticStyle:{width:"100vw"}},[a("q-list",{attrs:{bordered:""}},e._l(this.$store.state.filteredGuides,(function(t){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.id,attrs:{clickable:""},on:{click:function(a){return e.getSingleGuide(t._id)}}},[a("q-item-section",[e._v(e._s(t.name))]),a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",[a("img",{attrs:{src:t.avatar}})])],1)],1)})),1)],1)])},x=[],_={name:"SearchResults",data:()=>({}),methods:{getSingleGuide(e){const t={id:e,nextPage:"SelectedProfile"};this.$store.dispatch("getSingleGuide",t)}}},C=_,w=a("1c1c"),$=a("66e5"),k=a("4074"),S=a("cb32"),Q=a("714f"),P=Object(c["a"])(C,y,x,!1,null,"f925e30e",null),T=P.exports;b()(P,"components",{QList:w["a"],QItem:$["a"],QItemSection:k["a"],QAvatar:S["a"]}),b()(P,"directives",{Ripple:Q["a"]});var I=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"full-width",staticStyle:{"min-height":"inherit"},attrs:{id:"bookings"}},[s("q-img",{staticStyle:{height:"150px"},attrs:{src:a("cff0")}}),s("div",{staticClass:"q-pa-md"},[s("q-card",{staticClass:"q-ma-sm",attrs:{rounded:""}},[s("q-card-section",{staticClass:"text-subtitle1 bg-primary text-white"},[e._v("\n        Your current bookings\n      ")]),e._l(this.$store.state.bookings,(function(t){return s("q-card-section",{key:t.id,staticClass:"q-pa-none q-ma-none bg-white"},[s("q-card-section",{staticClass:"q-pa-none q-ma-sm"},[s("q-expansion-item",{attrs:{label:t.date,arrows:e.arrows}},[s("q-card",[s("q-card-section",[s("q-card-section",{staticClass:"text-subtitle1"},[s("q-icon",{staticClass:"q-pb-xs q-pr-xs",attrs:{size:"sm",color:"primary",name:"today"}}),e._v("\n              "+e._s(t.date)+"\n            ")],1),s("q-card-section",{staticClass:"text-subtitle1"},[s("q-icon",{staticClass:"q-pb-xs q-pr-xs",attrs:{size:"sm",color:"primary",name:"location_city"}}),e._v(" \n              "+e._s(t.location)+"\n            ")],1),s("q-card-section",{staticClass:"text-subtitle1"},[s("q-icon",{staticClass:"q-pb-xs q-pr-xs",attrs:{size:"sm",color:"primary",name:"push_pin"}}),e._v(" \n              "+e._s(t.meeting_location)+"\n            ")],1),s("q-card-section",{staticClass:"text-subtitle1"},[s("q-icon",{staticClass:"q-pb-xs q-pr-xs",attrs:{size:"sm",color:"primary",name:"schedule"}}),e._v(" \n              "+e._s(t.start_time)+"\n            ")],1),s("q-card-section",{staticClass:"text-subtitle1"},[s("q-icon",{staticClass:"q-pb-xs q-pr-xs",attrs:{size:"sm",color:"primary",name:"schedule"}}),e._v(" \n              "+e._s(t.end_time)+"\n            ")],1),s("q-card-section",{staticClass:"text-subtitle1"},[s("q-icon",{staticClass:"q-pb-xs q-pr-xs",attrs:{size:"sm",color:"primary",name:"info"}}),e._v(" \n              "+e._s(t.details)+"\n            ")],1)],1)],1)],1)],1),s("q-card-section",{staticClass:"q-pa-none q-ma-none"},[s("q-separator",{attrs:{color:"grey-4"}})],1)],1)}))],2)],1)],1)},M=[],E=a("bc3a"),L=a.n(E),G=a("43ac"),A=a.n(G),O=a("bf8a");const j=Object(O["a"])("pk_test_51IyBaBBjEZPN4gtmG1jLAzZM4yRbvITQHdOApeVCIPXTMianEW5DbRWKMcVPbCxbujQgKIeW0IUytxeUfGlWlRKM00kAUTP5sO");var D={name:"Bookings",methods:{async checkout(e,t){let a={amount:e,currency:t};console.log("payload @ component: ",a);const s=(await L.a.post(`${A.a}/api/checkout-session`,a)).data;console.log(s),j.then((e=>{e.redirectToCheckout({sessionId:s})}))}}},U=D,R=a("068f"),V=a("a370"),H=a("3b73"),B=a("eb85"),N=Object(c["a"])(U,I,M,!1,null,"28f8e6a0",null),z=N.exports;b()(N,"components",{QImg:R["a"],QCard:d["a"],QCardSection:V["a"],QExpansionItem:H["a"],QIcon:p["a"],QSeparator:B["a"],QList:w["a"],QItem:$["a"],QItemSection:k["a"]}),b()(N,"directives",{Ripple:Q["a"]});var Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("div",{staticClass:"flex row"},[a("q-card",{staticClass:"q-ma-sm my-card col-9"},[a("q-card-section",{staticClass:"teal-9"},[a("div",{staticClass:"text-h6"},[e._v(e._s(this.$store.state.singleGuide.name))]),a("div",{staticClass:"text-subtitle2"},[e._v("Professional Guide")])]),a("q-tabs",{staticClass:"text-teal",model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{label:"Places",name:"one"}}),a("q-tab",{attrs:{label:"Languages",name:"two"}})],1),a("q-separator"),a("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"one"}},e._l(this.$store.state.singleGuide.locations,(function(t){return a("q-chip",{key:t.fakeValueThatIMadeUp,staticClass:"bg-primary",attrs:{clickable:"",square:"","text-color":"white"}},[e._v("\r\n          "+e._s(t)+"\r\n        ")])})),1),a("q-tab-panel",{attrs:{name:"two"}},e._l(this.$store.state.singleGuide.languages,(function(t){return a("q-chip",{key:t.fakeValueThatIMadeUp,staticClass:"bg-primary",attrs:{clickable:"",square:"","text-color":"white"}},[e._v("\r\n            "+e._s(t)+"\r\n         ")])})),1)],1)],1),a("div",{staticClass:"q-py-sm q-pr-sm flex justify-center flex-center column col"},[a("q-img",{staticClass:"col full-width overflow-hidden rounded-borders",attrs:{fit:e.cover,src:this.$store.state.singleGuide.avatar}}),a("q-btn",{staticClass:"q-mt-sm full-width",attrs:{loading:e.loading2,color:"primary"},on:{click:e.loginAction},scopedSlots:e._u([{key:"loading",fn:function(){return[e._v("\r\n          Loading...\r\n        ")]},proxy:!0}])},[e._v("\r\n        Chat\r\n        ")])],1)],1),a("q-carousel",{staticClass:"bg-primary text-white shadow-1",attrs:{"transition-prev":"scale","transition-next":"scale",swipeable:"",animated:"","control-color":"white",navigation:"",arrows:"",padding:"",height:"250px"},model:{value:e.slide,callback:function(t){e.slide=t},expression:"slide"}},[a("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:"style"}},[a("q-icon",{attrs:{name:"style",size:"56px"}}),a("div",{staticClass:"q-mt-md text-center"},[e._v("\r\n            "+e._s(this.$store.state.singleGuide.bio)+"\r\n          ")])],1),a("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:"tv"}},[a("q-icon",{attrs:{name:"live_tv",size:"56px"}}),a("div",{staticClass:"q-mt-md text-center"},[e._v("\r\n            "+e._s(e.lorem)+"\r\n          ")])],1),a("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:"layers"}},[a("q-icon",{attrs:{name:"layers",size:"56px"}}),a("div",{staticClass:"q-mt-md text-center"},[e._v("\r\n            "+e._s(e.lorem)+"\r\n          ")])],1),a("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:"map"}},[a("q-icon",{attrs:{name:"terrain",size:"56px"}}),a("div",{staticClass:"q-mt-md text-center"},[e._v("\r\n            "+e._s(e.lorem)+"\r\n          ")])],1)],1),a("div",{staticClass:"flex justify-center q-pa-md"},[a("q-date",{attrs:{options:e.optionsFn,minimal:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)},F=[],K=a("bd4c"),W={name:"SelectedProfile",data:()=>({tab:"one",slide:"style",lorem:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Itaque voluptatem totam, architecto cupiditate officia rerum, error dignissimos praesentium libero ab nemo.",left:!0,date:""}),watch:{vertical(e){this.navPos=!0===e?"right":"bottom"}},methods:{optionsFn(e){return!this.$store.state.singleGuide.unavailableDates.includes(e)&&e>=K["b"].formatDate(Date.now(),"YYYY/MM/DD")},async startChat(){let e={traveller:this.$store.state.id,guide:this.$store.state.singleGuide.id,location:this.$store.state.searchQuery.location,date:this.date,start_time:"",end_time:"",meeting_location:"",details:"",status:"pending",conversation:"",price:"",currency:"",type:"free"};const t=(await L.a.post(`${A.a}/api/bookings`,e)).data;this.$store.commit("setCurrentChat",t);const a={id:t,nextPage:"Messages"};this.$store.dispatch("getChatLog",a),console.log(newConvo)}},mounted(){this.date=this.$store.state.searchQuery.date}},J=W,Z=(a("ae90"),a("9989")),X=a("429b"),ee=a("7460"),te=a("adad"),ae=a("823b"),se=a("b047"),ie=a("880c"),oe=a("62cd"),le=Object(c["a"])(J,Y,F,!1,null,"0de1a6d4",null),ne=le.exports;b()(le,"components",{QPage:Z["a"],QCard:d["a"],QCardSection:V["a"],QTabs:X["a"],QTab:ee["a"],QSeparator:B["a"],QTabPanels:te["a"],QTabPanel:ae["a"],QChip:se["a"],QImg:R["a"],QBtn:m["a"],QCarousel:ie["a"],QCarouselSlide:oe["a"],QIcon:p["a"],QDate:g["a"]});var re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("div",{staticClass:"flex row"},[a("q-card",{staticClass:"q-ma-sm my-card col-9"},[a("q-card-section",{staticClass:"teal-9"},[a("div",{staticClass:"text-h6"},[e._v(e._s(this.$store.state.guideSelf.name))]),a("div",{staticClass:"text-subtitle2"},[e._v("Professional Guide")])]),a("q-tabs",{staticClass:"text-teal",model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{label:"Places",name:"one"}}),a("q-tab",{attrs:{label:"Languages",name:"two"}})],1),a("q-separator"),a("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"one"}},e._l(this.$store.state.singleGuide.locations,(function(t){return a("q-chip",{key:t.fakeValueThatIMadeUp,staticClass:"bg-primary",attrs:{clickable:"",square:"","text-color":"white"}},[e._v("\r\n          "+e._s(t)+"\r\n        ")])})),1),a("q-tab-panel",{attrs:{name:"two"}},e._l(this.$store.state.guideSelf.languages,(function(t){return a("q-chip",{key:t.fakeValueThatIMadeUp,staticClass:"bg-primary",attrs:{clickable:"",square:"","text-color":"white"}},[e._v("\r\n            "+e._s(t)+"\r\n         ")])})),1)],1)],1),a("div",{staticClass:"q-py-sm q-pr-sm flex justify-center flex-center column col"},[a("q-img",{staticClass:"col full-width overflow-hidden rounded-borders",attrs:{fit:e.cover,src:this.$store.state.guideSelf.avatar}}),a("q-btn",{staticClass:"q-mt-sm full-width",attrs:{loading:e.loading2,color:"primary"},on:{click:e.editProfile},scopedSlots:e._u([{key:"loading",fn:function(){return[e._v("\r\n          Loading...\r\n        ")]},proxy:!0}])},[e._v("\r\n        Edit\r\n        ")])],1)],1),a("q-carousel",{staticClass:"bg-primary text-white shadow-1",attrs:{"transition-prev":"scale","transition-next":"scale",swipeable:"",animated:"","control-color":"white",navigation:"",arrows:"",padding:"",height:"250px"},model:{value:e.slide,callback:function(t){e.slide=t},expression:"slide"}},[a("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:"style"}},[a("q-icon",{attrs:{name:"style",size:"56px"}}),a("div",{staticClass:"q-mt-md text-center"},[e._v("\r\n            "+e._s(this.$store.state.guideSelf.bio)+"\r\n          ")])],1),a("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:"tv"}},[a("q-icon",{attrs:{name:"live_tv",size:"56px"}}),a("div",{staticClass:"q-mt-md text-center"},[e._v("\r\n            "+e._s(e.lorem)+"\r\n          ")])],1),a("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:"layers"}},[a("q-icon",{attrs:{name:"layers",size:"56px"}}),a("div",{staticClass:"q-mt-md text-center"},[e._v("\r\n            "+e._s(e.lorem)+"\r\n          ")])],1),a("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:"map"}},[a("q-icon",{attrs:{name:"terrain",size:"56px"}}),a("div",{staticClass:"q-mt-md text-center"},[e._v("\r\n            "+e._s(e.lorem)+"\r\n          ")])],1)],1),a("div",{staticClass:"flex justify-center q-pa-md"},[a("q-date",{attrs:{options:e.optionsFn,minimal:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)},ce=[],de={name:"MyProfile",data:()=>({tab:"one",slide:"style",lorem:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Itaque voluptatem totam, architecto cupiditate officia rerum, error dignissimos praesentium libero ab nemo.",left:!0,date:""}),watch:{vertical(e){this.navPos=!0===e?"right":"bottom"}},methods:{optionsFn(e){return!this.$store.state.guideSelf.unavailableDates.includes(e)&&e>=K["b"].formatDate(Date.now(),"YYYY/MM/DD")},editProfile(){this.$store.state.currentView="EditProfile"}}},ue=de,me=(a("91c8"),Object(c["a"])(ue,re,ce,!1,null,"4b6939b0",null)),pe=me.exports;b()(me,"components",{QPage:Z["a"],QCard:d["a"],QCardSection:V["a"],QTabs:X["a"],QTab:ee["a"],QSeparator:B["a"],QTabPanels:te["a"],QTabPanel:ae["a"],QChip:se["a"],QImg:R["a"],QBtn:m["a"],QCarousel:ie["a"],QCarouselSlide:oe["a"],QIcon:p["a"],QDate:g["a"]});var he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"editprofile"}},[a("h1",[e._v(" Edit own profile ")]),a("br"),a("span",[e._v("Please update the necessary fields to finish the editing process.")]),a("br"),a("q-select",{attrs:{disable:"",filled:"",username:e.username},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("br"),a("q-dialog",{model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("Alert")])]),a("q-card-section",{staticClass:"q-pt-none"},[e._v("\n                    Please edit all necessary information.\n                ")]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"}})],1)],1)],1),a("div",{attrs:{id:"guidereg"}},[a("br"),a("q-input",{attrs:{filled:"",type:"string",maxlength:"160",placeholder:"Please write a short bio about yourself!",hint:"max 160 characters",dense:e.dense},model:{value:e.biomodel,callback:function(t){e.biomodel=t},expression:"biomodel"}}),a("br"),a("q-select",{attrs:{filled:"",multiple:"",options:e.location,label:"Location",hint:"Multiple Options",dense:e.dense},model:{value:e.locationmodel,callback:function(t){e.locationmodel=t},expression:"locationmodel"}}),a("br"),a("q-select",{attrs:{filled:"",multiple:"",options:e.languages,label:"Languages",hint:"Multiple Options",dense:e.dense},model:{value:e.languagemodel,callback:function(t){e.languagemodel=t},expression:"languagemodel"}}),a("br"),a("q-select",{attrs:{filled:"",multiple:"",options:e.availabledays,label:"Available Days",hint:"Multiple Options"},model:{value:e.availabledaysmodel,callback:function(t){e.availabledaysmodel=t},expression:"availabledaysmodel"}}),a("br"),a("q-input",{attrs:{filled:"",type:"number",placeholder:"Approx. Rate",hint:"in JPY, per hour",dense:e.dense},model:{value:e.ratemodel,callback:function(t){e.ratemodel=t},expression:"ratemodel"}}),a("br"),a("span",[e._v("Please confirm to finish the editing process.")]),a("br"),a("q-btn",{attrs:{id:"guideconfirm",color:"primary",label:"Finish"},on:{click:e.editGuide}})],1)],1)},ge=[],fe={name:"EditProfile",methods:{editGuide(){if(console.log(this.usermodel,this.username,this.locationmodel,this.languagemodel,this.availabledaysmodel,this.ratemodel,this.biomodel),null!==this.usermodel&&""!==this.username&&null!==this.locationmodel&&null!==this.languagemodel&&null!==this.availabledaysmodel&&null!==this.ratemodel&&null!==this.biomodel){let e={};e["usertype"]=this.usermodel,e["username"]=this.username,e["location"]=this.locationmodel,e["language"]=this.languagemodel,e["availabledays"]=this.availabledaysmodel,e["rate"]=this.ratemodel,e["bio"]=this.biomodel,e["id"]=this.$store.state.id,this.$store.commit("setGuidePackageUpdate",e),this.$store.dispatch("guidePackageUpdate",e);const t={id:this.$store.state.id,nextPage:"MyProfile"};this.$store.dispatch("getUser",t)}else this.alert=!0}},data(){return{usermodel:"guide",locationmodel:this.$store.state.guideSelf.locations,languagemodel:this.$store.state.guideSelf.languages,availabledaysmodel:this.$store.state.guideSelf.weekdays,ratemodel:this.$store.state.guideSelf.rate,biomodel:this.$store.state.guideSelf.bio,usertype:["traveller","guide"],location:["nikko","tokyo","osaka"],languages:["english","japanese","italian"],availabledays:["mon","tue","wed","thu","fri","sat","sun"],username:this.$store.state.guideSelf.name,dense:!0,alert:!1}}},be=fe,ve=(a("f76d"),a("ddd8")),qe=a("24e8"),ye=a("4b7e"),xe=a("7f67"),_e=Object(c["a"])(be,he,ge,!1,null,"7d6b9b0e",null),Ce=_e.exports;b()(_e,"components",{QSelect:ve["a"],QDialog:qe["a"],QCard:d["a"],QCardSection:V["a"],QCardActions:ye["a"],QBtn:m["a"],QInput:u["a"]}),b()(_e,"directives",{ClosePopup:xe["a"]});var we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{ref:"chatPage",staticClass:"flex full-width column"},[a("div",{staticClass:"q-pa-md column col justify-end"},[e._l(e.messageLog,(function(t){return a("q-chat-message",{key:t.text,attrs:{text:[t.text],sent:t.from==e.me,"bg-color":t.from==e.me?"green-5":"grey-4"}})})),e.theirTypingStatus?a("q-spinner-dots",{attrs:{size:"2rem"}}):e._e()],2),a("q-footer",{attrs:{elevated:""}},[a("q-toolbar",[a("q-form",{staticClass:"full-width"},[a("q-input",{attrs:{"bg-color":"white",outlined:"",rounded:"",label:"Message",dense:""},scopedSlots:e._u([{key:"after",fn:function(){return[a("q-btn",{attrs:{round:"",type:"submit",loading:e.submitting,color:"white",dense:"",flat:"",icon:"send"},on:{click:e.sendMessage}})]},proxy:!0}]),model:{value:e.newMessage,callback:function(t){e.newMessage=t},expression:"newMessage"}})],1)],1)],1)],1)},$e=[],ke=a("6c23"),Se={mounted(){this.scrollToBottom()},watch:{messageLog:function(e){return console.log(e),this.scrollToBottom(),console.log("WATCH MESSAGE LOG FIRED")},newMessage:function(){""!==this.newMessage?this.myTypingStatus=!0:this.myTypingStatus=!1,console.log("NS",this.myTypingStatus),console.log("SHOULD EMIT TS NOW"),ke["a"].emit("typingStatus",{to:this.you,from:this.me,status:this.myTypingStatus})}},created(){ke["a"].on("typingStatus",(e=>{console.log("TYPING STATUS ON LISTNER"),console.log("THISYOU",this.you),console.log("PAYTO",e),this.you===e.from&&(this.theirTypingStatus=e.status)})),ke["a"].on("relayMessage",(e=>{console.log("CHECKING CURRENT CHAT"),this.you===e["from"]&&(console.log("CHECK OK. MESSAGE RECEIVED AND PUSHING"),this.messageLog.push(e))}))},name:"Messages",data(){return{messageLog:this.$store.state.currentChatLog,myTypingStatus:!1,theirTypingStatus:!1,me:this.$store.state.id,you:this.$store.state.sendTo,newMessage:""}},methods:{sendMessage(){let e=Date.now();console.log("PUSHING TO CHAT LOG"),this.messageLog.push({text:this.newMessage,from:this.$store.state.id,timestamp:e}),console.log("PRE CHAT EMIT"),ke["a"].emit("chatMessage",{conversationId:this.$store.state.currentChat,text:this.newMessage,from:this.$store.state.id,to:this.$store.state.sendTo,timestamp:e}),this.newMessage=""},scrollToBottom(){let e=this.$refs.chatPage.$el;console.log("STB METHOD FIRED"),console.log("CHAT PAGE",e),console.log("CHAT PAGE HEIGHT",e.scrollHeight),setTimeout((()=>{window.scrollTo(0,e.scrollHeight)}),20)}}},Qe=Se,Pe=(a("7926"),a("8169")),Te=a("8380"),Ie=a("7ff0"),Me=a("65c6"),Ee=a("0378"),Le=Object(c["a"])(Qe,we,$e,!1,null,"83521230",null),Ge=Le.exports;b()(Le,"components",{QPage:Z["a"],QChatMessage:Pe["a"],QSpinnerDots:Te["a"],QFooter:Ie["a"],QToolbar:Me["a"],QForm:Ee["a"],QInput:u["a"],QBtn:m["a"]});var Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"flex full-width"},[a("q-list",{staticClass:"full-width",attrs:{bordered:""}},e._l(this.$store.state.chatList,(function(t){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t._id,staticClass:"q-my-sm",attrs:{clickable:""},on:{click:function(a){return e.openChat(t._id)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{color:"primary","text-color":"white"}},[e._v("\n          "+e._s(t[e.chatPartner].name.charAt(0))+"\n        ")])],1),a("q-item-section",[a("q-item-label",[e._v(e._s(t[e.chatPartner].name))]),a("q-item-label",{attrs:{caption:"",lines:"1"}},[e._v(e._s(t[e.chatPartner].name))])],1),a("q-item-section",{attrs:{side:""}},[a("q-badge",{attrs:{color:t.online?"blue":"grey-5"}},[e._v("\n          "+e._s(t.online?"online":"offline")+"\n        ")])],1)],1)})),1)],1)},Oe=[],je={data(){return{chatPartner:"traveller"===this.$store.state.userType?"guide":"traveller"}},methods:{openChat(e){this.$store.commit("setCurrentChat",e);const t={id:e,nextPage:"Messages"};this.$store.dispatch("getChatLog",t)}}},De=je,Ue=a("0170"),Re=a("58a81"),Ve=Object(c["a"])(De,Ae,Oe,!1,null,"747d6495",null),He=Ve.exports;b()(Ve,"components",{QPage:Z["a"],QList:w["a"],QItem:$["a"],QItemSection:k["a"],QAvatar:S["a"],QItemLabel:Ue["a"],QBadge:Re["a"]}),b()(Ve,"directives",{Ripple:Q["a"]});var Be=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ne=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"how-to"}},[a("h5",[e._v("Thank you for creating an account with us!")]),a("span",[e._v("Please use the menu to the left to navigate to where you want to go.")])])}],ze={name:"HowTo",methods:{}},Ye=ze,Fe=Object(c["a"])(Ye,Be,Ne,!1,null,"a64e55a0",null),Ke=Fe.exports,We=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Je=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"about-us"}},[a("h4",[e._v("Welcome to GetGuides!")]),a("span",[e._v("We are Team EnviroKraken, and we've been told to create an about us\n    page.")]),a("p",[e._v("Please subscribe to our patreon")])])}],Ze={name:"AboutUs"},Xe=Ze,et=(a("fde2"),Object(c["a"])(Xe,We,Je,!1,null,"45842dc9",null)),tt=et.exports,at=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fullscreen text-white text-center q-pa-md flex flex-center"},[e.$q.platform.is.desktop?s("div",[e._v("\n    I'm only rendered on desktop!\n  ")]):e._e(),e.$q.platform.is.mobile?s("div",{staticClass:"fullscreen column items-center justify-center"},[s("div",{staticClass:"flex col",staticStyle:{"align-items":"center"}},[s("q-img",{staticClass:"q-mb-xl",staticStyle:{width:"300px"},attrs:{src:a("275d")}})],1),s("div",{staticClass:"col-1"},[s("q-btn",{staticClass:"text-h6 q-ma-md",staticStyle:{width:"200px"},attrs:{loading:e.loading2,color:"red"},on:{click:e.loginAction},scopedSlots:e._u([{key:"loading",fn:function(){return[e._v("\n          Loading...\n        ")]},proxy:!0}],null,!1,697269363)},[e._v("\n        Login\n        ")]),s("q-btn",{staticClass:"text-h6 q-ma-md",staticStyle:{width:"200px"},attrs:{loading:e.loading2,color:"red"},on:{click:e.loginFront},scopedSlots:e._u([{key:"loading",fn:function(){return[e._v("\n          Loading...\n        ")]},proxy:!0}],null,!1,697269363)},[e._v("\n        Login8080\n        ")])],1),s("div",{staticClass:"col-1 q-mb-xl q-mt-sm"},[s("p",{staticClass:"text-h6 q-ma-md text-primary self-center",on:{click:e.loginAction}},[e._v("Register")])])]):e._e()])},st=[],it=(a("5319"),{name:"Login",methods:{loginAction(){window.location.replace(`${window.location.origin}/login`)},loginFront(){this.$store.commit("setUserId","60b47b595c7aa6b557654a30"),this.$store.commit("setUserType","guide"),this.$store.commit("changeView","MyProfile"),this.$store.commit("loggedIn",!0)}},async created(){const e=(await L.a.get(`${A.a}/auth`)).data;if(e)if("Registration"===e.path)this.$store.commit("setUserName",e.name),this.$store.commit("setUserEmail",e.email),this.$store.commit("setUsergid",e.gid),this.$store.commit("changeView",e.path);else{if(this.$store.commit("setUserId",e.id),this.$store.commit("setUserType",e.userType),"traveller"===e.userType)this.$store.commit("changeView",e.path);else if("guide"===e.userType){const t={id:e.id,nextPage:"MyProfile"};this.$store.dispatch("getUser",t)}this.$store.commit("loggedIn",e.loggedIn)}}}),ot=it,lt=(a("787f"),Object(c["a"])(ot,at,st,!1,null,"ae5746cc",null)),nt=lt.exports;b()(lt,"components",{QImg:R["a"],QBtn:m["a"]});var rt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ct=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Logout"}},[a("h1",[e._v("Logging out...")])])}],dt={name:"Logout",created(){window.location.replace(`${A.a}/logout`)}},ut=dt,mt=Object(c["a"])(ut,rt,ct,!1,null,"8827f820",null),pt=mt.exports,ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"registragion"}},[a("h1",[e._v(" New user registration ")]),a("br"),a("span",[e._v("Please fill in the following fields to finish the registration process.")]),a("br"),a("q-select",{attrs:{disable:"",filled:"",username:e.username},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("q-select",{attrs:{disable:"",filled:"",emailaddress:e.emailaddress},model:{value:e.emailaddress,callback:function(t){e.emailaddress=t},expression:"emailaddress"}}),a("br"),a("q-dialog",{model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("Alert")])]),a("q-card-section",{staticClass:"q-pt-none"},[e._v("\n                 Please fill in all necessary information.\n                ")]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"}})],1)],1)],1),a("span",[e._v("Please confirm the type of account you would like to create:")]),a("q-select",{attrs:{outlined:"",options:e.usertype,label:"Account Type",dense:e.dense},model:{value:e.usermodel,callback:function(t){e.usermodel=t},expression:"usermodel"}}),"traveller"===e.usermodel?a("div",{attrs:{id:"travelreg"}},[a("br"),a("span",[e._v("You're all set! Please confirm to finish the registration.")]),a("br"),a("q-btn",{attrs:{id:"travelconfirm",color:"primary",label:"Finish"},on:{click:e.registerTraveller}})],1):e._e(),"guide"===e.usermodel?a("div",{attrs:{id:"guidereg"}},[a("br"),a("q-input",{attrs:{filled:"",type:"string",maxlength:"160",placeholder:"Please write a short bio about yourself!",hint:"max 160 characters",dense:e.dense},model:{value:e.biomodel,callback:function(t){e.biomodel=t},expression:"biomodel"}}),a("br"),a("q-select",{attrs:{filled:"",multiple:"",options:e.location,label:"Location",hint:"Multiple Options",dense:e.dense},model:{value:e.locationmodel,callback:function(t){e.locationmodel=t},expression:"locationmodel"}}),a("br"),a("q-select",{attrs:{filled:"",multiple:"",options:e.languages,label:"Languages",hint:"Multiple Options",dense:e.dense},model:{value:e.languagemodel,callback:function(t){e.languagemodel=t},expression:"languagemodel"}}),a("br"),a("q-select",{attrs:{filled:"",multiple:"",options:e.availabledays,label:"Available Days",hint:"Multiple Options"},model:{value:e.availabledaysmodel,callback:function(t){e.availabledaysmodel=t},expression:"availabledaysmodel"}}),a("br"),a("q-input",{attrs:{filled:"",type:"number",placeholder:"Approx. Rate",hint:"in JPY, per hour",dense:e.dense},model:{value:e.ratemodel,callback:function(t){e.ratemodel=t},expression:"ratemodel"}}),a("br"),a("span",[e._v("You're all set! Please confirm to finish the registration.")]),a("br"),a("q-btn",{attrs:{id:"guideconfirm",color:"primary",label:"Finish"},on:{click:e.registerGuide}})],1):e._e()],1)},gt=[],ft={name:"Registration",methods:{registerTraveller(){if(null!==this.usermodel&&""!==this.username&&""!==this.emailaddress&&""!==this.$store.state.gid){let e={};e["usertype"]=this.usermodel,e["username"]=this.username,e["email"]=this.emailaddress,e["gid"]=this.$store.state.gid,this.$store.commit("setTravellerPackage",e),this.$store.dispatch("travellerPackage",e)}else this.alert=!0},registerGuide(){if(null!==this.usermodel&&""!==this.username&&""!==this.emailaddress&&null!==this.locationmodel&&null!==this.languagemodel&&null!==this.availabledaysmodel&&null!==this.ratemodel&&null!==this.biomodel&&""!==this.$store.state.gid){let e={};e["usertype"]=this.usermodel,e["username"]=this.username,e["email"]=this.emailaddress,e["location"]=this.locationmodel,e["language"]=this.languagemodel,e["availabledays"]=this.availabledaysmodel,e["rate"]=this.ratemodel,e["bio"]=this.biomodel,e["gid"]=this.$store.state.gid,e["unavailable_dates"]=[],this.$store.commit("setGuidePackage",e),this.$store.dispatch("guidePackage",e)}else this.alert=!0}},mounted(){},data(){return{usermodel:null,locationmodel:null,languagemodel:null,availabledaysmodel:null,ratemodel:null,biomodel:null,usertype:["traveller","guide"],location:["nikko","tokyo","osaka"],languages:["english","japanese","italian"],availabledays:["mon","tue","wed","thu","fri","sat","sun"],username:this.$store.state.name,emailaddress:this.$store.state.email,dense:!0,alert:!1}}},bt=ft,vt=(a("4e3e"),Object(c["a"])(bt,ht,gt,!1,null,"41f58f6e",null)),qt=vt.exports;b()(vt,"components",{QSelect:ve["a"],QDialog:qe["a"],QCard:d["a"],QCardSection:V["a"],QCardActions:ye["a"],QBtn:m["a"],QInput:u["a"]}),b()(vt,"directives",{ClosePopup:xe["a"]});var yt={name:"PageIndex",components:{Search:q,SearchResults:T,Bookings:z,SelectedProfile:ne,MyProfile:pe,EditProfile:Ce,Chats:He,Messages:Ge,HowTo:Ke,AboutUs:tt,Login:nt,Logout:pt,Registration:qt},methods:{whatever(){this.$store.commit("userView")},asyncWhatever(){this.$store.dispatch("asyncSomething")}}},xt=yt,_t=Object(c["a"])(xt,s,i,!1,null,null,null);t["default"]=_t.exports;b()(_t,"components",{QPage:Z["a"]})},"91c8":function(e,t,a){"use strict";a("4748")},abf8:function(e,t,a){},ae90:function(e,t,a){"use strict";a("524e")},cff0:function(e,t,a){e.exports=a.p+"img/fuji.ad87449e.jpg"},e54a:function(e,t,a){},f76d:function(e,t,a){"use strict";a("abf8")},fde2:function(e,t,a){"use strict";a("75c7")}}]);